<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>主页</title>
    <script type="text/javascript" src="./static/echarts.min.js"></script>
</head>
<body>
<br><br><br><br>
<h1 align="center">商品比较分析系统</h1><br><br>
<form method="get" action="/search/">
    <div align="center"><input type="text" id="search" name="search" style="height:30px;width:350px" autofocus="autofocus">
        <input type="submit" value="搜索" style="height:37px;width:80px"></div>
</form>
    <table align="center">
        <tr>
            <td><div id="main1" style="width: 600px;height: 400px;"></div></td>
            <td><div id="main2" style="width: 600px;height: 400px;"></div></td>
        </tr>
        <tr>
            <td><div id="main3" style="width: 600px;height: 400px;"></div></td>
            <td><div id="main4" style="width: 600px;height: 400px;"></div></td>
        </tr>
    </table>
<script type="text/javascript">
    var priceList = ['1000元以下', '1000-2000元', '2000-3000元', '3000-4000元', '4000-5000元', '5000-6000元','6000元以上'];
    var mychart1 = echarts.init(document.getElementById('main1'));
    var option1 = {
        tooltip: {
            trigger: 'item'
        },
        title: {
            text: '价格分布'
        },
        legend: {
            x: 'right',
            orient: 'vertical',
            data: priceList
        },
        itemStyle: {
            emphasis: {
                shadowBlur: 200,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
        },
        series: [
            {
                name: '数量',
                type: 'pie',
                radius: '65%',
                label: {
                    normal: {
                        formatter: '{d}%'
                    }
                },
                data: [
                    {value: {{ cnt.0 }}, name: '1000元以下'},
                    {value: {{ cnt.1 }}, name: '1000-2000元'},
                    {value: {{ cnt.2 }}, name: '2000-3000元'},
                    {value: {{ cnt.3 }}, name: '3000-4000元'},
                    {value: {{ cnt.4 }}, name: '4000-5000元'},
                    {value: {{ cnt.5 }}, name: '5000-6000元'},
                    {value: {{ cnt.6 }}, name: '6000元以上'},
                ]
            }
        ]
    }
    mychart1.setOption(option1)
    var mychart2 = echarts.init(document.getElementById('main2'));
    var option2  = {
        tooltip: {
            trigger: 'axis'
        },
        xAxis: {
            type: 'category',
            data: priceList
        },
        yAxis: {
            type: 'value',
        },
        series: [{
            name: '数量',
            type: 'line',
            data: {{ cnt }}
        }]
    }
    mychart2.setOption(option2)
    var listDateList = ['2016', '2015', '2014', '2013', '2012', '2011', '2010及以前'];
    var mychart3 = echarts.init(document.getElementById('main3'));
    var option3 = {
        tooltip: {
            trigger: 'item'
        },
        title: {
            text: '上市年份'
        },
        legend: {
            x: 'right',
            orient: 'vertical',
            data: listDateList
        },
        itemStyle: {
            emphasis: {
                shadowBlur: 200,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
        },
        series: [
            {
                name: '数量',
                type: 'pie',
                radius: '65%',
                label: {
                    normal: {
                        formatter: '{d}%'
                    }
                },
                data: [
                    {value: {{ cntListDate.0 }}, name: '2016'},
                    {value: {{ cntListDate.1 }}, name: '2015'},
                    {value: {{ cntListDate.2 }}, name: '2014'},
                    {value: {{ cntListDate.3 }}, name: '2013'},
                    {value: {{ cntListDate.4 }}, name: '2012'},
                    {value: {{ cntListDate.5 }}, name: '2011'},
                    {value: {{ cntListDate.6 }}, name: '2010及以前'},
                ]
            }
        ]
    }
    mychart3.setOption(option3);

</script>

</body>
</html>